DROP TABLE Products IF EXISTS;
DROP TABLE Clients IF EXISTS;
DROP TABLE Orders IF EXISTS;
DROP TABLE Ord_product IF EXISTS;
DROP TABLE greetings IF EXISTS;

CREATE TABLE Products (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  barcode VARCHAR(100),
  name VARCHAR(100) NOT NULL,
  base_price VARCHAR(100) NOT NULL,
  description VARCHAR(100) NOT NULL,
  release DATE,
  PRIMARY KEY(id)
);


CREATE TABLE Clients (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  first_name VARCHAR(100) NOT NULL,
  last_name VARCHAR(100) NOT NULL,
  address VARCHAR(100),
  country VARCHAR(100) NOT NULL,
  phone VARCHAR(100) NOT NULL,
  PRIMARY KEY(id)
);
CREATE INDEX Client_name ON Clients (last_name);

CREATE TABLE Orders (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL PRIMARY KEY,
  Client_id BIGINT,
  Product_id1 BIGINT,
  nr_of_product1 INTEGER NOT NULL,
  price1 VARCHAR(100) NOT NULL,
  transactiondate DATE,
  );

  ALTER TABLE Orders ADD CONSTRAINT fk_Orders_Clients FOREIGN KEY (Client_id) REFERENCES Clients (id);
  ALTER TABLE Orders ADD CONSTRAINT fk_Orders_Products FOREIGN KEY (Product_id1) REFERENCES Products (id);
